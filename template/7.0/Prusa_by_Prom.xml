<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>7.0</version>
    <template_groups>
        <template_group>
            <uuid>846977d1dfed4968bc5f8bdb363285bc</uuid>
            <name>Templates/Operating systems</name>
        </template_group>
    </template_groups>
    <templates>
        <template>
            <uuid>cf7ff3a52815432796abc5ca46a66a5f</uuid>
            <template>Prusa by Prom</template>
            <name>Prusa by Prom</name>
            <description>This template collects Prusa metrics from  prusa_exporter.

Setup:

1. Set up the prusa_exporter according to the official documentation:
https://github.com/pstrobl96/prusa_exporter


2. Set the hostname or IP address of the prusa_exporter host in the '{$PRUSA_EXPORTER_HOST}' macro. You can also change the Prometheus endpoint port in the '{$PRUSA_EXPORTER_PORT}' macro if necessary.</description>
            <vendor>
                <name>Open-Tech</name>
                <version>7.0-0</version>
            </vendor>
            <groups>
                <group>
                    <name>Templates/Operating systems</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>1be9f51b728c4aa6b099a6ae820ee2f2</uuid>
                    <name>API version</name>
                    <type>DEPENDENT</type>
                    <key>prusa.api.version</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>Returns information about printer.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_info</parameter>
                                <parameter>label</parameter>
                                <parameter>api_version</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0d294172d2b84c888549ec4ec52ca84e</uuid>
                    <name>Bed target temperature</name>
                    <type>DEPENDENT</type>
                    <key>prusa.bed.target.temp</key>
                    <delay>0</delay>
                    <units>˚C</units>
                    <description>Target temp of printer in Celsius</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_temperature_target_celsius{printer_heated_element=&quot;bed&quot;}</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>8a3b77f2a96a4db6a66a842c70199623</uuid>
                    <name>Bed temperature</name>
                    <type>DEPENDENT</type>
                    <key>prusa.bed.temp</key>
                    <delay>0</delay>
                    <units>˚C</units>
                    <description>Current temp of printer in Celsius</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_temperature_celsius{printer_heated_element=&quot;bed&quot;}</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>162cdba9c97f468597f7b525defaef99</uuid>
                    <name>Extruder fan speed</name>
                    <type>DEPENDENT</type>
                    <key>prusa.fan.speed.hotend</key>
                    <delay>0</delay>
                    <units>rpm</units>
                    <description>Returns information about speed of hotend fan in rpm.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_fan_speed_rpm{fan=&quot;hotend&quot;}</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>69ef9eb379264ad89701cf2f8b956726</uuid>
                    <name>Fan speed</name>
                    <type>DEPENDENT</type>
                    <key>prusa.fan.speed.print</key>
                    <delay>0</delay>
                    <units>rpm</units>
                    <description>Returns information about speed of hotend fan in rpm.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_fan_speed_rpm{fan=&quot;print&quot;}</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>05bb00b33a894cf1acbe3c82022364af</uuid>
                    <name>Hostname</name>
                    <type>DEPENDENT</type>
                    <key>prusa.hostname</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>Returns information about printer.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_info</parameter>
                                <parameter>label</parameter>
                                <parameter>printer_hostname</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1d</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b51bfc95d4e242618e912727954993c5</uuid>
                    <name>Filament</name>
                    <type>DEPENDENT</type>
                    <key>prusa.material.info.filament</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>Returns information about loaded filament. Returns 0 if there is no loaded filament</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_material_info</parameter>
                                <parameter>label</parameter>
                                <parameter>printer_filament</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e68fe5c915b840ad8f513829f530ddcd</uuid>
                    <name>Filament PLA status</name>
                    <type>DEPENDENT</type>
                    <key>prusa.material.info.pla</key>
                    <delay>0</delay>
                    <description>Returns information about loaded filament. Returns 0 if there is no loaded filament</description>
                    <valuemap>
                        <name>Filament PLA Load</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_material_info{printer_filament=&quot;PLA&quot;}</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ee05abc4334d4c88a0f17601852e58e6</uuid>
                    <name>MMU</name>
                    <type>DEPENDENT</type>
                    <key>prusa.mmu</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <description>Returns information if MMU is enabled.</description>
                    <valuemap>
                        <name>Status mmu</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_mmu</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>358923d4a962493b85d647ec3de18de5</uuid>
                    <name>Printer model</name>
                    <type>DEPENDENT</type>
                    <key>prusa.model</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>Returns information status of printer.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_status_info</parameter>
                                <parameter>label</parameter>
                                <parameter>printer_model</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1d</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c818b1cea4a343559d09934aaab268cb</uuid>
                    <name>Printer name</name>
                    <type>DEPENDENT</type>
                    <key>prusa.name</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>Returns information status of printer.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_status_info</parameter>
                                <parameter>label</parameter>
                                <parameter>printer_name</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1d</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>25eddff97d1c4cd9bb807040f48762c6</uuid>
                    <name>Nozzle size meters</name>
                    <type>DEPENDENT</type>
                    <key>prusa.nozzle.size.meters</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>mm</units>
                    <description>Returns information about selected nozzle size.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_nozzle_size_meters</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>eedef40b39984238a06353635ba5cd3d</uuid>
                    <name>Nozzle target temperature</name>
                    <type>DEPENDENT</type>
                    <key>prusa.nozzle.target.temp</key>
                    <delay>0</delay>
                    <units>˚C</units>
                    <description>Target temp of printer in Celsius</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_temperature_target_celsius{printer_heated_element=&quot;tool0&quot;}</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b709dd32a70440e399d716e782eef65f</uuid>
                    <name>Nozzle temperature</name>
                    <type>DEPENDENT</type>
                    <key>prusa.nozzle.temp</key>
                    <delay>0</delay>
                    <units>˚C</units>
                    <description>Current temp of printer in Celsius</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_temperature_celsius{printer_heated_element=&quot;tool0&quot;}</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>182aa3bf9bdf46628d77896ff4d3cd62</uuid>
                    <name>Flow ratio</name>
                    <type>DEPENDENT</type>
                    <key>prusa.print.flow.ratio</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>Returns information about of filament flow in ratio (0.0 - 1.0).</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_print_flow_ratio</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>100</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e53c0cc75fba46b3afde3c5bc3d2ddd6</uuid>
                    <name>Speed ratio</name>
                    <type>DEPENDENT</type>
                    <key>prusa.print.speed.ratio</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>Current setting of printer speed in values from 0.0 - 1.0</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_print_speed_ratio</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>100</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3308922d879b4690addd158a8b117e8e</uuid>
                    <name>Print time</name>
                    <type>DEPENDENT</type>
                    <key>prusa.print.time</key>
                    <delay>0</delay>
                    <units>s</units>
                    <description>Returns information about current print time.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_print_time_seconds</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>1fdf7c58c5d24895a342adc2709d68d3</uuid>
                    <name>Address</name>
                    <type>DEPENDENT</type>
                    <key>prusa.printer.address</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>Returns information about printer.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_info</parameter>
                                <parameter>label</parameter>
                                <parameter>printer_address</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>1331fad9149e4f51999725bd39e9919c</uuid>
                    <name>Job name</name>
                    <type>DEPENDENT</type>
                    <key>prusa.printer.job.name</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_status_info</parameter>
                                <parameter>label</parameter>
                                <parameter>printer_job_name</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>10m</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3954fd2f40c7489ba53f76352c296826</uuid>
                    <name>Progress ratio</name>
                    <type>DEPENDENT</type>
                    <key>prusa.printing.progress.ratio</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>Returns information about completion of current print in ratio (0.0-1.0)</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_printing_progress_ratio</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>100</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>7b55bfcbeca34eb789a52a1cedd407fe</uuid>
                    <name>Serial number</name>
                    <type>DEPENDENT</type>
                    <key>prusa.serial.number</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>Returns information about printer.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_info</parameter>
                                <parameter>label</parameter>
                                <parameter>serial_number</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1d</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>69a73fecff0c4f2894971db50726afed</uuid>
                    <name>Server version</name>
                    <type>DEPENDENT</type>
                    <key>prusa.server.version</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>Returns information about printer.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_info</parameter>
                                <parameter>label</parameter>
                                <parameter>server_version</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0a97b5c8b7104add88fbd9deebee92fc</uuid>
                    <name>Status info</name>
                    <type>DEPENDENT</type>
                    <key>prusa.status.info</key>
                    <delay>0</delay>
                    <description>Returns information status of printer.</description>
                    <valuemap>
                        <name>Status printer</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_status_info</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>01c540727ed7465286d2aece18e78e13</uuid>
                    <name>Printer state</name>
                    <type>DEPENDENT</type>
                    <key>prusa.status.state</key>
                    <delay>0</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>Returns information status of printer.</description>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_status_info</parameter>
                                <parameter>label</parameter>
                                <parameter>printer_state</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>10m</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ece42556de8242559992a51adf58466c</uuid>
                    <name>Printer up</name>
                    <type>DEPENDENT</type>
                    <key>prusa.up</key>
                    <delay>0</delay>
                    <description>Return information about online printers. If printer is registered as offline then returned value is 0.</description>
                    <valuemap>
                        <name>Status up</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_PATTERN</type>
                            <parameters>
                                <parameter>prusa_up</parameter>
                                <parameter>value</parameter>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>prusa_exporter.get</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>target</tag>
                            <value>prusa</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>2b2c55df3b2d466b9eede0ca8b785965</uuid>
                    <name>Get prusa_exporter metrics</name>
                    <type>HTTP_AGENT</type>
                    <key>prusa_exporter.get</key>
                    <history>1h</history>
                    <value_type>TEXT</value_type>
                    <trends>0</trends>
                    <url>http://{$PRUSA_EXPORTER_HOST}:{$PRUSA_EXPORTER_PORT}/metrics/prusalink</url>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>raw</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>699a486f38764605932f93df0b3351d9</uuid>
                            <expression>nodata(/Prusa by Prom/prusa_exporter.get,30m)=1</expression>
                            <name>prusa_exporter is not available</name>
                            <event_name>prusa_exporter is not available (or no data for 30m)</event_name>
                            <priority>WARNING</priority>
                            <description>Failed to fetch system metrics from prusa_exporter in time.</description>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>availability</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <tags>
                <tag>
                    <tag>class</tag>
                    <value>os</value>
                </tag>
                <tag>
                    <tag>target</tag>
                    <value>linux</value>
                </tag>
            </tags>
            <macros>
                <macro>
                    <macro>{$PRUSA_EXPORTER_HOST}</macro>
                    <value>localhost</value>
                    <description>The hostname or IP address of the node_exporter host.</description>
                </macro>
                <macro>
                    <macro>{$PRUSA_EXPORTER_PORT}</macro>
                    <value>10009</value>
                    <description>TCP Port node_exporter is listening on.</description>
                </macro>
            </macros>
            <dashboards>
                <dashboard>
                    <uuid>9ee344bfde8e4222b867940155454737</uuid>
                    <name>Prusa printer</name>
                    <pages>
                        <page>
                            <name>Overview</name>
                            <widgets>
                                <widget>
                                    <type>item</type>
                                    <name>Printer name</name>
                                    <width>23</width>
                                    <fields>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.name</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>show.0</name>
                                            <value>2</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_color</name>
                                            <value>FF8000</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>item</type>
                                    <name>Job name</name>
                                    <y>2</y>
                                    <width>50</width>
                                    <fields>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>decimal_places</name>
                                            <value>0</value>
                                        </field>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.printer.job.name</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>show.0</name>
                                            <value>2</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>units_color</name>
                                            <value>00FF00</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_color</name>
                                            <value>00FF00</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>honeycomb</type>
                                    <name>Temparature</name>
                                    <y>4</y>
                                    <width>10</width>
                                    <height>8</height>
                                    <fields>
                                        <field>
                                            <type>STRING</type>
                                            <name>bg_color</name>
                                            <value>FF8000</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>items.0</name>
                                            <value>Bed temperature</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>items.1</name>
                                            <value>Nozzle temperature</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>NMUQU</value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>show.0</name>
                                            <value>2</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>svggraph</type>
                                    <name>Temperature Nozzle</name>
                                    <x>10</x>
                                    <y>4</y>
                                    <width>40</width>
                                    <height>4</height>
                                    <fields>
                                        <field>
                                            <type>STRING</type>
                                            <name>ds.0.color</name>
                                            <value>00FF00</value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>ds.0.fill</name>
                                            <value>0</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>ds.0.items.0</name>
                                            <value>Nozzle temperature</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>ds.1.color</name>
                                            <value>FF465C</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>ds.1.items.0</name>
                                            <value>Nozzle target temperature</value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>ds.1.type</name>
                                            <value>1</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>ZLVYU</value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>righty</name>
                                            <value>0</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>svggraph</type>
                                    <name>Temperature Bed</name>
                                    <x>10</x>
                                    <y>8</y>
                                    <width>40</width>
                                    <height>4</height>
                                    <fields>
                                        <field>
                                            <type>STRING</type>
                                            <name>ds.0.color</name>
                                            <value>00FF00</value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>ds.0.fill</name>
                                            <value>0</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>ds.0.items.0</name>
                                            <value>Bed temperature</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>ds.1.color</name>
                                            <value>FF465C</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>ds.1.items.0</name>
                                            <value>Bed target temperature</value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>ds.1.type</name>
                                            <value>1</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>YFQOW</value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>righty</name>
                                            <value>0</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>item</type>
                                    <name>Printer model</name>
                                    <x>23</x>
                                    <width>9</width>
                                    <fields>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.model</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>show.0</name>
                                            <value>2</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_color</name>
                                            <value>00FF00</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>item</type>
                                    <name>Filament</name>
                                    <x>32</x>
                                    <width>9</width>
                                    <fields>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.material.info.filament</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>show.0</name>
                                            <value>2</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_color</name>
                                            <value>00FF00</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>item</type>
                                    <name>Progress</name>
                                    <x>41</x>
                                    <width>9</width>
                                    <fields>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>decimal_places</name>
                                            <value>0</value>
                                        </field>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.printing.progress.ratio</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>show.0</name>
                                            <value>2</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>units_color</name>
                                            <value>00FF00</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_color</name>
                                            <value>00FF00</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>item</type>
                                    <name>Print time</name>
                                    <x>50</x>
                                    <width>22</width>
                                    <fields>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>decimal_places</name>
                                            <value>0</value>
                                        </field>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.print.time</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>show.0</name>
                                            <value>2</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>units_color</name>
                                            <value>00FF00</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_color</name>
                                            <value>00FF00</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>item</type>
                                    <name>Status</name>
                                    <x>50</x>
                                    <y>2</y>
                                    <width>22</width>
                                    <fields>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.status.state</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>show.0</name>
                                            <value>2</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_color</name>
                                            <value>00FF00</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>honeycomb</type>
                                    <name>Funs</name>
                                    <x>50</x>
                                    <y>4</y>
                                    <width>11</width>
                                    <height>4</height>
                                    <fields>
                                        <field>
                                            <type>STRING</type>
                                            <name>bg_color</name>
                                            <value>4000FF</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>items.0</name>
                                            <value>Extruder fan speed</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>items.1</name>
                                            <value>Fan speed</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>RRUFQ</value>
                                        </field>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>show.0</name>
                                            <value>2</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>gauge</type>
                                    <name>Flow</name>
                                    <x>50</x>
                                    <y>8</y>
                                    <width>11</width>
                                    <height>4</height>
                                    <fields>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.print.flow.ratio</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>max</name>
                                            <value>100</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>min</name>
                                            <value>0</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_arc_color</name>
                                            <value>00FF00</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>gauge</type>
                                    <name>Progress</name>
                                    <x>61</x>
                                    <y>4</y>
                                    <width>11</width>
                                    <height>4</height>
                                    <fields>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.printing.progress.ratio</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>max</name>
                                            <value>100</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>min</name>
                                            <value>0</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_arc_color</name>
                                            <value>00FF00</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>gauge</type>
                                    <name>Spped</name>
                                    <x>61</x>
                                    <y>8</y>
                                    <width>11</width>
                                    <height>4</height>
                                    <fields>
                                        <field>
                                            <type>ITEM</type>
                                            <name>itemid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <key>prusa.print.speed.ratio</key>
                                            </value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>max</name>
                                            <value>100</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>min</name>
                                            <value>0</value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>value_arc_color</name>
                                            <value>00FF00</value>
                                        </field>
                                    </fields>
                                </widget>
                            </widgets>
                        </page>
                        <page>
                            <name>Graphs</name>
                            <widgets>
                                <widget>
                                    <type>graph</type>
                                    <width>36</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>GRAPH</type>
                                            <name>graphid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <name>Temperature Nozzle</name>
                                            </value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>FEXRG</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>graph</type>
                                    <y>5</y>
                                    <width>72</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>GRAPH</type>
                                            <name>graphid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <name>Fans</name>
                                            </value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>IKYYQ</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>graph</type>
                                    <x>36</x>
                                    <width>36</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>GRAPH</type>
                                            <name>graphid.0</name>
                                            <value>
                                                <host>Prusa by Prom</host>
                                                <name>Temperature Bed</name>
                                            </value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>FMLOD</value>
                                        </field>
                                    </fields>
                                </widget>
                            </widgets>
                        </page>
                    </pages>
                </dashboard>
            </dashboards>
            <valuemaps>
                <valuemap>
                    <uuid>39b1b635c116440eb59c807b31bc0ade</uuid>
                    <name>Filament PLA Load</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Yes</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>No</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>cfd1383db3414aec9c7c4275656bcca7</uuid>
                    <name>Status mmu</name>
                    <mappings>
                        <mapping>
                            <value>0</value>
                            <newvalue>Disable</newvalue>
                        </mapping>
                        <mapping>
                            <value>1</value>
                            <newvalue>Enable</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>8bae740bc9d3491aa9d82f45b2132d27</uuid>
                    <name>Status printer</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Operational</newvalue>
                        </mapping>
                        <mapping>
                            <value>4</value>
                            <newvalue>Printing</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>Prepared</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>Paused</newvalue>
                        </mapping>
                        <mapping>
                            <value>5</value>
                            <newvalue>Cancelling</newvalue>
                        </mapping>
                        <mapping>
                            <value>6</value>
                            <newvalue>Pausing</newvalue>
                        </mapping>
                        <mapping>
                            <value>7</value>
                            <newvalue>Error</newvalue>
                        </mapping>
                        <mapping>
                            <value>8</value>
                            <newvalue>SdReady</newvalue>
                        </mapping>
                        <mapping>
                            <value>9</value>
                            <newvalue>ClosedOrError</newvalue>
                        </mapping>
                        <mapping>
                            <value>10</value>
                            <newvalue>Ready</newvalue>
                        </mapping>
                        <mapping>
                            <value>11</value>
                            <newvalue>Busy</newvalue>
                        </mapping>
                        <mapping>
                            <value>12</value>
                            <newvalue>Finished</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>f22e2cbf7bdb4e509a53d384a18a0656</uuid>
                    <name>Status up</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Up</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>Down</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
    <graphs>
        <graph>
            <uuid>316f07dc2ec248b9ae169e3e359a26cf</uuid>
            <name>Fans</name>
            <graph_items>
                <graph_item>
                    <drawtype>GRADIENT_LINE</drawtype>
                    <color>BF00FF</color>
                    <calc_fnc>ALL</calc_fnc>
                    <item>
                        <host>Prusa by Prom</host>
                        <key>prusa.fan.speed.hotend</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>GRADIENT_LINE</drawtype>
                    <color>0040FF</color>
                    <calc_fnc>ALL</calc_fnc>
                    <item>
                        <host>Prusa by Prom</host>
                        <key>prusa.fan.speed.print</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <uuid>0307f0d65ed543cd94b0072ead5a6330</uuid>
            <name>Temperature Bed</name>
            <graph_items>
                <graph_item>
                    <drawtype>GRADIENT_LINE</drawtype>
                    <color>0040FF</color>
                    <calc_fnc>ALL</calc_fnc>
                    <item>
                        <host>Prusa by Prom</host>
                        <key>prusa.bed.temp</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>DOTTED_LINE</drawtype>
                    <color>F63100</color>
                    <calc_fnc>ALL</calc_fnc>
                    <item>
                        <host>Prusa by Prom</host>
                        <key>prusa.bed.target.temp</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <uuid>de952eb6ed924b5a975b10d35b707c5f</uuid>
            <name>Temperature Nozzle</name>
            <graph_items>
                <graph_item>
                    <drawtype>GRADIENT_LINE</drawtype>
                    <color>0040FF</color>
                    <calc_fnc>ALL</calc_fnc>
                    <item>
                        <host>Prusa by Prom</host>
                        <key>prusa.nozzle.temp</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>DOTTED_LINE</drawtype>
                    <color>F63100</color>
                    <calc_fnc>ALL</calc_fnc>
                    <item>
                        <host>Prusa by Prom</host>
                        <key>prusa.nozzle.target.temp</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
</zabbix_export>
